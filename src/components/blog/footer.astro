---
import Github from "@skyfall-powered/simple-icons-astro/Github";
import X from "@skyfall-powered/simple-icons-astro/X";
import GitCommitHorizontal from "lucide-astro/GitCommitHorizontal";

import childProcess from "node:child_process";

// obtain Git commit hash and message
const hash = childProcess
  .execSync("git rev-parse --short HEAD")
  .toString()
  .trim();

const message = childProcess
  .execSync("git log -1 --pretty=%s")
  .toString()
  .trim();
---

<hr class="h-px my-8 bg-surface0 border-0"/>
<div class="w-full text-center flex flex-col justify-center">
    <a href="https://skyfall.dev/rss.xml" class="text-mauve">Subscribe on RSS</a>
    <div class="text-mauve justify-center flex my-3 gap-3">
        <a href="https://github.com/SkyfallWasTaken" target="_blank" class="hover:rotate-[-5deg] transition-transform duration-300">
            <Github size={32}/>
        </a>
        <a href="https://x.com/skyfall_ggs" target="_blank" class="hover:rotate-[5deg] transition-transform duration-300">
            <X size={32}/>
        </a>
    </div>
    <p>&copy; {new Date().getFullYear()} Mahad Kalam.</p>
    <a href={`https://github.com/SkyfallWasTaken/skyfall-site/commit/${hash}`} target="_blank" class="flex gap-1 justify-center hover:underline my-1">
        <span class="text-mauve">
            <GitCommitHorizontal />
        </span>
        {message} <span class="text-mauve">({hash})</span>
    </a>
</div>